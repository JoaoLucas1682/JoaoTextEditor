<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><title>Joao TextEditor</title><style>#contextMenu li:hover,button{background:#007acc}#counter,body{font-family:Consolas,monospace;background:#1e1e1e}#counter,#loadingScreen,body{background:#1e1e1e}*{transition:.3s}body{margin:0;color:#fff;overflow:hidden}header{background:#3a3a3a;padding:10px;display:flex;justify-content:space-between;align-items:center;font-weight:700;border-bottom:1px solid grey}button{margin-left:10px;padding:6px 12px;border:none;color:#fff;cursor:pointer;border-radius:1em}button:hover{background:#0999f8}textarea{width:100%;height:calc(100vh - 80px);background:#252526;color:#d4d4d4;border:none;resize:none;padding:10px;font-size:16px;box-sizing:border-box}#contextMenu{position:absolute;background:#2d2d30;border:1px solid #444;border-radius:4px;display:none;z-index:1000;box-shadow:0 0 5px #000}#contextMenu ul{list-style:none;margin:0;padding:5px 0}#contextMenu li{padding:8px 20px;cursor:pointer}:focus{outline:0}#contextMenu li,button,header *{user-select:none;-moz-user-select:none;-webkit-user-select:none}#counter{padding:6px 10px;font-size:12px;color:#ccc;text-align:right;border-top:1px solid #444}#loadingScreen{position:fixed;top:0;left:0;width:100vw;height:100vh;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999999}.loader{border:6px solid #3a3a3a;border-top:6px solid #007acc;border-radius:50%;width:50px;height:50px;animation:1s linear infinite spin;margin-bottom:20px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style></head><body><div id="loadingScreen"><div class="loader"></div><p id="loading-message">Carregando Joao TextEditor...</p><noscript><style>#loading-message{display:none}</style><p style="color:red;font-weight:700">Este app precisa de JavaScript para funcionar. Ative o JavaScript ou use outro navegador.</p></noscript></div><header oncontextmenu="return!1"><div>Joao TextEditor (jTE)</div><div><span>v1.0.1</span><button onclick="saveFile()" aria-label="Baixe o texto como arquivo">Baixar texto</button><button onclick="openFile()" aria-label="Abrir um arquivo">Abrir Arquivo</button><button onclick="clearText()" aria-label="Limpar o texto da área de edição de texto">Limpar Texto</button><button onclick="openTab()" aria-label="Abrir o texto numa nova aba para imprimir etc.">Texto na nova aba</button></div></header><textarea id="editor" aria-label="Área de edição de texto" placeholder="Digite aqui ou clique com o botão direito do mouse para abrir o menu de contexto..."></textarea><div id="counter" aria-live="polite" style="padding:5px;text-align:right;font-size:12px;color:#ccc">0 caracteres, 0 palavras, 0 linhas</div><div id="contextMenu" oncontextmenu="return!1"><ul><li onclick="cutText()">Recortar</li><li onclick="copyText()">Copiar</li><li onclick="pasteText()">Colar</li><li onclick="selectAll()">Selecionar Tudo</li><li onclick="clearText()">Limpar Texto</li></ul></div><input type="file" id="fileInput" style="display:none"><script>const root="undefined"!=typeof window?window:self,editor=document.getElementById("editor"),contextMenu=document.getElementById("contextMenu");function selectAll(){editor.select()}function copyText(){const e=editor.value.substring(editor.selectionStart,editor.selectionEnd);navigator.clipboard.writeText(e||editor.value).catch((e=>alert("Erro ao copiar: "+e)))}function pasteText(){navigator.clipboard.readText().then((e=>{const t=editor.selectionStart,o=editor.selectionEnd,n=editor.value.substring(0,t),r=editor.value.substring(o);editor.value=n+e+r,editor.selectionStart=editor.selectionEnd=t+e.length})).catch((e=>alert("Erro ao colar: "+e)))}function cutText(){const e=editor.value.substring(editor.selectionStart,editor.selectionEnd);navigator.clipboard.writeText(e||editor.value).then((()=>{const e=editor.selectionStart,t=editor.selectionEnd;editor.value=editor.value.substring(0,e)+editor.value.substring(t),editor.selectionStart=editor.selectionEnd=e})).catch((e=>alert("Erro ao recortar: "+e)))}function saveFile(){const e=new Blob([editor.value],{type:"text/plain"}),t=document.createElement("a");t.download="text.txt",t.href=URL.createObjectURL(e),t.click()}function openFile(){const e=document.getElementById("fileInput");e.click(),e.onchange=()=>{const t=e.files[0],o=new FileReader;o.onload=()=>{editor.value=o.result},o.readAsText(t)}}function clearText(){editor.value="",localStorage.removeItem("joao_texteditor_content")}function openTab(){const e=editor.value,t=root.open("about:blank#jTEPage","_blank"),o=`<!doctype html><html lang=pt-BR><meta charset=UTF-8><title>jTE Page</title><style>*{transition:.3s}body{font-family:'Times New Roman',Georgia,serif;background:#fdfdfd;color:#222;padding:40px;margin:0;display:flex;flex-direction:column;align-items:center}.text-div .p-text{font-family:Arial,Helvetica,Roboto,sans-serif;text-align:center}.toolbar{margin-bottom:20px;background:#333;padding:10px 20px;border-radius:1em;box-shadow:0 0 10px rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}button{padding:8px 16px;margin-right:10px;background:#0999f8;color:#fff;border:none;border-radius:1em;font-size:14px;cursor:pointer}button:hover{background:#007acc}pre{width:100%;max-width:800px;background:#fff;border:1px solid #ccc;padding:20px;font-size:16px;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;box-shadow:0 0 10px rgba(0,0,0,.05);border-radius:1em}pre:focus{outline:#00f solid 1px}@media print{*,:focus{outline:0}.do-not-print{display:none;visibility:hidden}body,html{padding:0;background:#fff;color:#000}pre{border:none;box-shadow:none;border-radius:0}}@media (prefers-color-scheme:dark){.toolbar,pre{background:#1e1e1e}pre{color:#d4d4d4;border:1px solid #444;box-shadow:0 0 10px rgba(0,0,0,.5)}body{background:#121212;color:#ddd}.toolbar{box-shadow:0 0 10px rgba(1,1,1,.7)}}</style><div class="toolbar do-not-print"><button onclick=self.print()>Imprimir</button> <button onclick=self.close()>Fechar aba</button></div><pre contenteditable=true aria-label="Área de edição temporária">${e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre><div class="text-div do-not-print"><p class=p-text>jTE Mini Page<p class=p-text style=color:#c00;font-weight:700>⚠️ Esta é uma página temporária. Recarregar irá apagar o conteúdo.</div>`;t.document.documentElement.innerHTML=o}editor.addEventListener("contextmenu",(function(e){e.preventDefault();const t=root.innerWidth,o=root.innerHeight;let n=e.pageX,r=e.pageY;n+180>t&&(n=t-180),r+185>o&&(r=o-185),contextMenu.style.top=`${r}px`,contextMenu.style.left=`${n}px`,contextMenu.style.display="block"})),document.addEventListener("click",(()=>{contextMenu.style.display="none"})),editor.addEventListener("input",(()=>{localStorage.setItem("joao_texteditor_content",editor.value)})),root.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("joao_texteditor_content");e&&(editor.value=e)}));const counter=document.getElementById("counter");function updateCounter(){const e=editor.value,t=e.length,o=e.trim()?e.trim().split(/\s+/).length:0,n=e.split(/\r\n|\r|\n/).length;counter.textContent=`${t} caracteres, ${o} palavras, ${n} linhas`}editor.addEventListener("input",(()=>{updateCounter()})),root.addEventListener("load",(()=>{const e=document.getElementById("loadingScreen");e&&(e.style.display="none"),setTimeout((()=>{editor.focus(),updateCounter()}),100)}));</script></body></html>